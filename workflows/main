import sys
from pathlib import Path

sys.path.append('/src')
from src.example_package_anw.example import *


def main():
    dat = source_date(path)
    X_train, y_train, X_test, y_test = train_test_dat(dat)
    X_train_reduced, X_test_reduced,train_components,test_components  = pca_date(X_train,X_test)
    log_reg = ml_model(X_train_reduced, X_test_reduced,X_train,X_test,y_train,y_test,train_components)
    eval_train(log_reg,X_train_reduced,y_train)

if __name__ == '__main__':
    path_dir = str(Path(__file__).resolve().parent.parent)
    path = path_dir + '\date\caravan-insurance-challenge.csv'
    main()
